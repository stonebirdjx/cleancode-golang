# 使用工具对代码格式化

使用 `gofmt` 对代码进行格式化，会将GO源码按标准风格进行缩进、对齐、保留注释等。

使用 `goimports`，与`gofmt`拥有相同格式化功能，还能自动删除和引用包。

可以用`goland`、`vscode` 等工具格式化代码。

```bash
find ./ *.go | grep -v vendor | xargs gofmt -w
```

# 行宽不超过120个字符

> 除非超过能带来显著的上下文信息。

# 相对独立的程序块或者语句之间用空行分割

减少空行使用，一般一个空行即可，最多两个空行。

**正例**

```go
func first(){}

func second(){}
```

**反例**

```go
err := do()

if err != nil {
 // 不是相对独立的代码，不应该用空行隔开
}
```

# 控制表达式的括号

- *对于if、for、switch控制表达式，不使用()*
- *对于复杂表达式，整体最外层不使用()；里面单个简单表达式使用()明确优先级*

**正例**

```go
if n > 2 {
}

switch n {
case n > 2:
}

if (a > 2) && (c > 3) {
}
```

**反例**

```go
if (n > 2) {
}

switch (n) {
case (n > 2):
}

if ((a > 2) & (c > 3)) {
}

if a > 2 & c > 3 {
}
```


# 禁止使用math/rand包提供的函数产生安全用途的伪随机数

math/rand 包提供生成的伪随机数，不能保证其产生的随机数序列质量。

crypto/rand （推荐使用）包中提供了密码安全学伪随机数生成器。提供reader变量，在Unix中reader变量读取/dev/urandom生成随机数，在linux系统中使用getrandom生成随机数，在windows系统中使用CryptGenRandom API生成随机数

安全用于包括但不限于以下几种

- 会话标识的SessionID
- 挑战算法中的伪随机数生成
- 验证码中的随机数生成
- 用于密码算法用途（例如：生成IV，salt值、秘钥等）的随机数生成

# 禁止代码中包含公网地址

对产品发布的软件（包含软件包、补丁包）中的公网地址（包含公网ip、公网url地址、域名、邮箱地址）要求如下

- 禁止包含用户界面不可见、或者产品资料为公开的公网地址
- 已公开的公网地址禁止写在代码和脚本中，可存在在配置文件或者数据库中

> *import 包中的url 是例外*

# 删除无效或者永不执行的代码

注重DT覆盖率，无效或者永不执行的代码通常是编程错误的结果，应该主动识别整理和消除。

> 公共库中未使用的导出函数和变量不违反该准则

# 用代码直接删除掉，不要注释掉

被注释掉的代码，无法被正常维护。当企图恢复这段代码时，极有可能被引入被忽略的缺陷

正确的做法是，不需要的代码直接删除掉。若需要时可以通过版本管理工具恢复

> *cgo中的注释是例外*

# 避免调用os.Exit()和runtime.Goexit()退出函数

程序应该优雅的退出，具备有序的退出机制，并在真正退出前做好善后的工作。

除main函数外，禁止在任何地方调用os.Exit()函数，调用os.Exit()会立即终止，终止前无法执行相应的defer，可能导致某些资源难以有效的清理。

正确的做法是通过错误值传递到上一级调用者。结束前确保资源有序的释放，禁止下级程序直接结束进程。